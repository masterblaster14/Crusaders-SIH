<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco Campus Initiative</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body class="bg-[#1e1e1e] text-[#e0e0e0]">

    <div id="loading-spinner" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
        <div class="w-16 h-16 border-4 border-t-emerald-500 border-gray-600 rounded-full animate-spin"></div>
    </div>

    <div id="logged-out-view">
        <header class="py-4 border-b border-[#444]">
            <nav class="container flex justify-between items-center">
                <a href="#" class="text-2xl font-bold text-white">Eco<span class="text-emerald-500">Campus</span></a>
                <div>
                    <button id="show-login-btn" class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mr-4">Log In</button>
                    <button id="show-signup-btn" class="bg-emerald-600 text-white font-bold py-2 px-5 rounded-sm transition-all duration-200 ease-in-out hover:bg-emerald-500">Sign Up</button>
                </div>
            </nav>
        </header>

        <main class="container mt-20 text-center">
            <h1 class="text-5xl md:text-6xl font-black text-white leading-tight">Learn, Act, and Earn <br> for a Greener Tomorrow.</h1>
            <p class="mt-6 max-w-2xl mx-auto text-lg text-gray-400">Join the movement. Turn your sustainable actions into real rewards on campus. Knowledge is your currency.</p>
            <button id="hero-signup-btn" class="mt-10 bg-emerald-600 text-white font-bold rounded-sm transition-all duration-200 ease-in-out hover:bg-emerald-500 py-4 px-8 text-lg">Get Started for Free</button>
        </main>
    </div>

    <div id="logged-in-view" class="hidden">
        <header class="py-4 border-b border-[#444]">
            <nav class="container flex justify-between items-center">
                <a href="#" class="text-2xl font-bold text-white">Eco<span class="text-emerald-500">Campus</span></a>
                <div class="flex items-center gap-6">
                    <div class="text-right">
                        <span class="block text-sm text-gray-400">Balance</span>
                        <span id="green-coin-balance" class="text-lg font-bold text-yellow-400">0 GC</span>
                    </div>
                    <button id="profile-btn" data-view="profile-view" class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500">
                        Profile
                    </button>
                    <button id="logout-btn" class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500">Log Out</button>
                </div>
            </nav>
        </header>

        <main id="view-wrapper" class="container mt-12">
            <div id="dashboard-view" class="app-view">
                <h1 class="text-4xl font-bold text-white">Dashboard</h1>
                <div class="mt-8 flex flex-col gap-6">
                    <div class="bg-[#2d2d2d] border border-[#444] rounded-sm transition-all duration-200 ease-in-out cursor-pointer p-6 hover:border-emerald-500 flex items-center gap-5" data-view="quiz-topics-view">
                        <div class="flex-shrink-0 text-emerald-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor"><path d="M11 3a1 1 0 100 2h.01a1 1 0 100-2H11zM10 1a1 1 0 00-1 1v1a1 1 0 002 0V2a1 1 0 00-1-1zm-3 9a1 1 0 00-1 1v1a1 1 0 102 0v-1a1 1 0 00-1-1zm5 0a1 1 0 00-1 1v1a1 1 0 102 0v-1a1 1 0 00-1-1zM5.636 5.636a1 1 0 00-1.414 0l-.707.707a1 1 0 001.414 1.414l.707-.707a1 1 0 000-1.414zM15.071 13.657a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zM4 11a1 1 0 100-2H3a1 1 0 100 2h1zM7 16a1 1 0 011-1h4a1 1 0 110 2H8a1 1 0 01-1-1z" /></svg></div>
                        <div>
                            <span class="block text-emerald-500 text-xs font-bold uppercase tracking-widest mb-2">Knowledge Check</span>
                            <h2 class="text-2xl font-bold text-white">Quizzes</h2>
                            <p class="mt-2 text-gray-400 text-sm">Test your eco-knowledge and earn Green Coins.</p>
                        </div>
                    </div>
                    <div class="bg-[#2d2d2d] border border-[#444] rounded-sm transition-all duration-200 ease-in-out cursor-pointer p-6 hover:border-emerald-500 flex items-center gap-5" data-view="rewards-view">
                        <div class="flex-shrink-0 text-emerald-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5 5a3 3 0 013-3h4a3 3 0 013 3v1h-1.414a1 1 0 00-.707.293L10 8.586l-2.879-2.88a1 1 0 00-.707-.293H5V5zm10 4a1 1 0 00-1-1h-4a1 1 0 100 2h4a1 1 0 001-1zM6 10a1 1 0 01-1-1V8a1 1 0 112 0v1a1 1 0 01-1 1z" clip-rule="evenodd" /><path d="M4 12a2 2 0 00-2 2v2a2 2 0 002 2h12a2 2 0 002-2v-2a2 2 0 00-2-2H4z" /></svg></div>
                        <div>
                            <span class="block text-emerald-500 text-xs font-bold uppercase tracking-widest mb-2">Spend Your Coins</span>
                            <h2 class="text-2xl font-bold text-white">Redeem Rewards</h2>
                            <p class="mt-2 text-gray-400 text-sm">Use Green Coins for campus perks and discounts.</p>
                        </div>
                    </div>
                    <div class="bg-[#2d2d2d] border border-[#444] rounded-sm transition-all duration-200 ease-in-out cursor-pointer p-6 hover:border-emerald-500 flex items-center gap-5" data-view="challenges-view">
                        <div class="flex-shrink-0 text-emerald-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 1.944A11.954 11.954 0 012.166 5.056a1 1 0 01.09 1.413l.009.01.001.002.002.003.003.005a1 1 0 01-1.35 1.35l-.009-.01-.001-.002-.002-.003-.003-.005a11.954 11.954 0 01-1.84-6.81C.166 2.056 1.944 0 5.056 0h9.888C18.056 0 19.834 2.056 19.834 5.056c0 2.828-1.879 6.27-2.946 7.29a1 1 0 01-1.414-1.414l.009-.01.001-.002.002-.003.003-.005a1 1 0 011.35-1.35l.009.01.001.002.002.003.003.005c.29-.29.563-.61.79-1.025a7.96 7.96 0 001.84-4.81C18.06 3.076 17.024 1 14.944 1H5.056z" clip-rule="evenodd" /><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" /></svg></div>
                        <div>
                            <span class="block text-emerald-500 text-xs font-bold uppercase tracking-widest mb-2">Real-World Action</span>
                            <h2 class="text-2xl font-bold text-white">Verify & Earn</h2>
                            <p class="mt-2 text-gray-400 text-sm">Complete eco-challenges and submit for verification.</p>
                        </div>
                    </div>
                     <div class="bg-[#2d2d2d] border border-[#444] rounded-sm transition-all duration-200 ease-in-out cursor-pointer p-6 hover:border-emerald-500 flex items-center gap-5" data-view="leaderboard-view">
                        <div class="flex-shrink-0 text-emerald-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.12 2.59A5.002 5.002 0 006 7.5c0 1.598.74 3.026 1.88 3.99A5.002 5.002 0 0014 7.5c0-1.598-.74-3.026-1.88-3.99zM6 7.5c0-1.31.53-2.5 1.38-3.32A5.002 5.002 0 002 7.5a5 5 0 004 4.9v.1a5 5 0 004 4.9v.1a5 5 0 004-4.9v-.1a5 5 0 004-4.9 5.002 5.002 0 00-5.38-4.18A5.002 5.002 0 0014 7.5c0 1.31-.53 2.5-1.38 3.32A5.002 5.002 0 008 7.5a5 5 0 00-2-4.9z" clip-rule="evenodd" /></svg></div>
                        <div>
                            <span class="block text-emerald-500 text-xs font-bold uppercase tracking-widest mb-2">Campus Rankings</span>
                            <h2 class="text-2xl font-bold text-white">Leaderboard</h2>
                            <p class="mt-2 text-gray-400 text-sm">See who's leading the Eco Campus Initiative.</p>
                        </div>
                    </div>
                    <div class="bg-[#2d2d2d] border border-[#444] rounded-sm transition-all duration-200 ease-in-out cursor-pointer p-6 hover:border-emerald-500 flex items-center gap-5" data-view="my-rewards-view">
                        <div class="flex-shrink-0 text-emerald-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5 2a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H5zm3 14a1 1 0 001-1V9a1 1 0 10-2 0v6a1 1 0 001 1zm4 0a1 1 0 001-1V9a1 1 0 10-2 0v6a1 1 0 001 1zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z" clip-rule="evenodd" /></svg></div>
                        <div>
                            <span class="block text-emerald-500 text-xs font-bold uppercase tracking-widest mb-2">Code History</span>
                            <h2 class="text-2xl font-bold text-white">My Rewards</h2>
                            <p class="mt-2 text-gray-400 text-sm">View a history of all your redeemed coupon codes.</p>
                        </div>
                    </div>
                    <div class="bg-[#2d2d2d] border border-[#444] rounded-sm transition-all duration-200 ease-in-out cursor-pointer p-6 hover:border-emerald-500 flex items-center gap-5" data-view="waste-segregation-view">
                        <div class="flex-shrink-0 text-emerald-500"><svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" viewBox="0 0 20 20" fill="currentColor"><path d="M10 3.5a1.5 1.5 0 011.233 2.504l1.359 2.038a1.5 1.5 0 01-.989 2.452H8.397a1.5 1.5 0 01-.988-2.452l1.359-2.038A1.5 1.5 0 0110 3.5zm-3.031 9A1.5 1.5 0 015.02 11h9.962a1.5 1.5 0 011.051 2.53l-1.36 2.038a1.5 1.5 0 01-.988 2.452H6.348a1.5 1.5 0 01-.988-2.452L6.72 12.5z" /></svg></div>
                        <div>
                            <span class="block text-emerald-500 text-xs font-bold uppercase tracking-widest mb-2">Smart Disposal</span>
                            <h2 class="text-2xl font-bold text-white">Waste Segregation</h2>
                            <p class="mt-2 text-gray-400 text-sm">Upload a photo to identify waste and learn how to dispose of it.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="quiz-topics-view" class="app-view hidden">
                <button class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mb-6" data-view="dashboard-view">&larr; Back to Dashboard</button>
                <h1 class="text-4xl font-bold text-white">Choose a Topic</h1>
                <div id="quiz-topic-list" class="mt-8 grid grid-cols-2 md:grid-cols-4 gap-6">
                </div>
            </div>
            
            <div id="quiz-active-view" class="app-view hidden max-w-3xl mx-auto">
                <div class="bg-[#2d2d2d] border border-[#444] rounded-lg p-8">
                    <div class="relative h-2 bg-gray-700 rounded-full mb-6">
                        <div id="progress-bar" class="absolute top-0 left-0 h-2 bg-emerald-500 rounded-full transition-all duration-300"></div>
                    </div>
                    <h2 id="question-text" class="text-2xl font-bold text-white mb-6">Loading question...</h2>
                    <div id="options-container" class="space-y-4">
                    </div>
                </div>
            </div>

            <div id="quiz-results-view" class="app-view hidden max-w-2xl mx-auto text-center">
                 <div class="bg-[#2d2d2d] border border-[#444] rounded-sm transition-all duration-200 ease-in-out hover:border-emerald-500 p-8">
                    <span class="block text-emerald-500 text-xs font-bold uppercase tracking-widest mb-2">Quiz Complete!</span>
                    <h1 class="text-4xl font-bold text-white">Great Job!</h1>
                    <p class="mt-4 text-gray-300 text-lg">You scored <span id="final-score" class="font-bold text-white">0</span> out of <span id="total-score" class="font-bold text-white">0</span>.</p>
                    <p class="mt-2 text-2xl font-bold text-yellow-400">+<span id="coins-earned">0</span> Green Coins</p>
                    <button id="back-to-topics-btn" class="mt-8 bg-emerald-600 text-white font-bold py-2 px-5 rounded-sm transition-all duration-200 ease-in-out hover:bg-emerald-500">Choose Another Topic</button>
                 </div>
            </div>

             <div id="rewards-view" class="app-view hidden">
                <button class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mb-6" data-view="dashboard-view">&larr; Back to Dashboard</button>
                <h1 class="text-4xl font-bold text-white">Redeem Rewards</h1>
                <div id="rewards-list" class="mt-8 flex flex-col gap-6">
                </div>
            </div>

            <div id="challenges-view" class="app-view hidden">
                <button class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mb-6" data-view="dashboard-view">&larr; Back to Dashboard</button>
                <h1 class="text-4xl font-bold text-white">Eco-Challenges</h1>
                <div id="challenges-list" class="mt-8 flex flex-col gap-6">
                </div>
            </div>

            <div id="leaderboard-view" class="app-view hidden max-w-4xl mx-auto">
                <button class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mb-6" data-view="dashboard-view">&larr; Back to Dashboard</button>
                <h1 class="text-4xl font-bold text-white">Top Eco-Champions</h1>
                <div id="leaderboard-list" class="mt-8 flex flex-col gap-3">
                    <p class="text-gray-400">Loading rankings...</p>
                </div>
            </div>

            <div id="my-rewards-view" class="app-view hidden max-w-4xl mx-auto">
                <button class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mb-6" data-view="dashboard-view">&larr; Back to Dashboard</button>
                <h1 class="text-4xl font-bold text-white">My Redeemed Rewards</h1>
                <div id="my-rewards-list" class="mt-8 flex flex-col gap-4">
                    <p class="text-gray-400">Loading your rewards...</p>
                </div>
            </div>

            <div id="waste-segregation-view" class="app-view hidden max-w-4xl mx-auto">
                <button class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mb-6" data-view="dashboard-view">&larr; Back to Dashboard</button>
                <h1 class="text-4xl font-bold text-white">Waste Segregation Helper</h1>
                <div class="mt-8 p-6 bg-[#2d2d2d] border border-[#444] rounded-md">
                    <input type="file" id="image-upload-input" class="hidden" accept="image/*">
                    <button id="upload-image-btn" class="bg-emerald-600 text-white font-bold py-2 px-5 rounded-sm transition-all duration-200 ease-in-out hover:bg-emerald-500">
                        Upload or Take a Photo
                    </button>
                    <div id="image-preview-container" class="mt-6 hidden">
                        <img id="image-preview" src="#" alt="Image preview" class="max-w-xs mx-auto rounded-md">
                        <button id="analyze-image-btn" class="mt-4 w-full bg-yellow-500 text-black font-bold py-2 px-5 rounded-sm transition-all duration-200 ease-in-out hover:bg-yellow-400">
                            Analyze Image
                        </button>
                    </div>
                </div>
                <div id="analysis-result-container" class="mt-6 hidden">
                    <div id="analysis-loader" class="text-center">
                        <p class="text-lg text-gray-300">Analyzing image...</p>
                        <div class="mt-2 w-12 h-12 border-4 border-t-emerald-500 border-gray-600 rounded-full animate-spin mx-auto"></div>
                    </div>
                    <div id="analysis-result" class="hidden p-6 bg-[#2d2d2d] border border-emerald-500 rounded-md">
                    </div>
                </div>
            </div>
            
            <div id="profile-view" class="app-view hidden max-w-4xl mx-auto">
                <button class="text-gray-400 font-medium transition-colors duration-200 hover:text-emerald-500 mb-6" data-view="dashboard-view">&larr; Back to Dashboard</button>
                <div class="bg-[#2d2d2d] border border-[#444] rounded-md p-6 flex items-center gap-6">
                    <div class="w-20 h-20 bg-emerald-800 rounded-full flex items-center justify-center">
                        <span id="profile-initials" class="text-3xl font-bold text-white"></span>
                    </div>
                    <div>
                        <h1 id="profile-name" class="text-3xl font-bold text-white"></h1>
                        <p id="profile-email" class="text-gray-400"></p>
                        <p class="mt-1 text-xl font-bold text-yellow-400"><span id="profile-coins"></span> Green Coins</p>
                    </div>
                </div>
                <div class="mt-8">
                    <h2 class="text-2xl font-bold text-white">My Badges</h2>
                    <div id="badges-container" class="mt-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="auth-modal" class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-40">
        <div class="w-full max-w-md relative">
            <div class="bg-[#2d2d2d] border border-[#444] rounded-sm shadow-lg p-8">
                <button id="close-auth-modal" class="absolute top-4 right-4 text-gray-500 hover:text-white">&times;</button>
                <form id="login-form">
                    <h2 class="text-3xl font-bold text-center text-white">Log In</h2>
                    <p id="login-error" class="text-red-500 text-center mt-2 hidden"></p>
                    <div class="mt-6">
                        <label for="login-email" class="block text-sm font-medium text-gray-400">Email Address</label>
                        <input type="email" id="login-email" required class="mt-1 block w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-sm shadow-sm text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500">
                    </div>
                    <div class="mt-4">
                        <label for="login-password" class="block text-sm font-medium text-gray-400">Password</label>
                        <input type="password" id="login-password" required class="mt-1 block w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-sm shadow-sm text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500">
                    </div>
                    <button type="submit" class="mt-6 w-full bg-emerald-600 text-white font-bold py-2 px-5 rounded-sm transition-all duration-200 ease-in-out hover:bg-emerald-500">Log In</button>
                    <p class="mt-4 text-center text-sm text-gray-500">
                        No account? <button type="button" id="switch-to-signup" class="font-bold text-emerald-500 hover:underline">Sign up</button>
                    </p>
                </form>

                <form id="signup-form" class="hidden">
                     <h2 class="text-3xl font-bold text-center text-white">Create Account</h2>
                    <p id="signup-error" class="text-red-500 text-center mt-2 hidden"></p>
                     <div class="mt-6">
                        <label for="signup-name" class="block text-sm font-medium text-gray-400">Full Name</label>
                        <input type="text" id="signup-name" required class="mt-1 block w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-sm shadow-sm text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500">
                    </div>
                    <div class="mt-4">
                        <label for="signup-email" class="block text-sm font-medium text-gray-400">Email Address</label>
                        <input type="email" id="signup-email" required class="mt-1 block w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-sm shadow-sm text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500">
                    </div>
                    <div class="mt-4">
                        <label for="signup-password" class="block text-sm font-medium text-gray-400">Password</small></label>
                        <input type="password" id="signup-password" required minlength="6" class="mt-1 block w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-sm shadow-sm text-gray-300 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 focus:border-emerald-500">
                    </div>
                    <button type="submit" class="mt-6 w-full bg-emerald-600 text-white font-bold py-2 px-5 rounded-sm transition-all duration-200 ease-in-out hover:bg-emerald-500">Create Account</button>
                     <p class="mt-4 text-center text-sm text-gray-500">
                        Already have an account? <button type="button" id="switch-to-login" class="font-bold text-emerald-500 hover:underline">Log in</button>
                    </p>
                </form>
            </div>
        </div>
    </div>

    <script src="js/main.js" type="module"></script>
</body>
</html>